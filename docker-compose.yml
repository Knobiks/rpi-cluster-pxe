version: '3.4'
services:
  rpicloud-dev:
    build:
      context: .
      dockerfile: .docker/Dockerfile
      target: Development
    environment:
      USER_UID: ${USER_UID:-1000}
      USER_GID: ${USER_GID:-1000}
    volumes:
      - ./.docker/config/dnsmasq:/etc/dnsmasq.d/
      - ./.docker/config/nginx/virtualhosts:/etc/nginx/sites-enabled
      - ./baseImages:/baseImages
      - ./backups:/nfs/backups
      - ./web:/web
      - ./api:/api
    network_mode: "host"
    privileged: true
